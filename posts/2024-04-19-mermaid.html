<!DOCTYPE html>
<html lang="ja">
  <head prefix="og: https://ogp.me/ns#">
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="hitbug" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@hitbug0" />

    <meta property="og:url" content="https://hitbug0.github.io/posts/2024-04-19-mermaid.html" />
    <meta property="og:title" content="【mermaid】markdownのドキュメントに図を描く方法" />
    <meta property="og:image" content="https://avatars.githubusercontent.com/u/166343381?v=4?s=400" />
    <meta property="og:description" content="markdownファイル内にテキストで図を描く方法についての記事です。
        図はmermaidという記法を使って作成します。
        HTML形式で出力もできて、結構便利で私は仕事で使ったりもしています。" />
    
    <title>【mermaid】markdownのドキュメントに図を描く方法 | hitbug</title>
    <meta name="tag" content="Web制作">
    <meta name="tag" content="mermaid">
    <meta name="tag" content="markdown">
    <meta name="tag" content="VSCode">
    <meta name="description" content="markdownファイル内にテキストで図を描く方法についての記事です。
        図はmermaidという記法を使って作成します。
        HTML形式で出力もできて、結構便利で私は仕事で使ったりもしています。" />

    <!-- 共通: 基本設定-->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../includes/style.css" />
    <link rel="icon" href="../contents/icon/hitbug-black-transparent.png" />

    <!-- 共通: フォントの設定-->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="anonymous" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" crossorigin="anonymous" />

    <!-- 共通: lightbox (ウェブサイト上で画像や動画を拡大表示するためのポップアップウィンドウ) の設定-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css" crossorigin="anonymous" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js" crossorigin="anonymous"></script>

    <!-- 共通: Google AdSenseの設定-->
    <meta name="google-adsense-account" content="ca-pub-5830432592137126" />
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5830432592137126"
        crossorigin="anonymous">
    </script>

    <!-- 共通: Google Analyticsの設定-->
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2NP6QCR05Z"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-2NP6QCR05Z');
    </script>

    <!-- 共通: コード表示とコピーの設定-->
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>
  </head>
  <body>
    <!-- 共通: ヘッダ -->
    <header></header>
    <script>$(function(){$('header').load('../includes/header.html');});</script>

    <div id="wrapper">
        <div id="main">
            <!-- コンテンツ -->
            <div id="hidden-left-sidebar"></div>
            <div id="left-sidebar">
                <div id="left-share">
                    <h1 class="text">Share!</h1>
                    <a href="https://twitter.com/intent/tweet?url=https://hitbug0.github.io/posts/2024-04-19-mermaid.html&text=" class="twitter-share-button" data-show-count="false" rel="noopener noreferrer" target="_blank">
                        <img  class="twitter-share-button-img" src="../contents/icon/x.png" alt="logo of x">
                    </a>
                </div>
                <br>
                <div class="text">
                    <h1>In this article</h1>
                    <ul>
                        <li><a href="#section1">この記事でわかること</a></li>
                        <li><a href="#section2">mermaidとは？</a></li>
                        <li><a href="#section3">基礎的な書き方は？</a></li>
                        <li><a href="#section4">色とか変えられる？ → Yes</a></li>
                        <li><a href="#section5">VSCodeでmermaidを使う場合の具体的な方法</a></li>
                        <li><a href="#section6">まとめ</a></li>
                    </ul>
                </div>
                <br>
                <div id="left-sidebar-tags" class="text"></div>
                <script>$(function(){$('#left-sidebar-tags').load('../includes/tags-post.html');});</script>
            </div>
            <div id="center">
                <div class="text">


                    
<script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="mermaidmarkdown%E3%81%AE%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AB%E5%9B%B3%E3%82%92%E6%8F%8F%E3%81%8F%E6%96%B9%E6%B3%95">【mermaid】markdownのドキュメントに図を描く方法</h1>
<p></p>
<hr/>
<p>markdownファイル内にテキストで図を描く方法についての記事です。<br/>
図はmermaidという記法を使って作成します。<br/>
HTML形式で出力もできて、結構便利で私は仕事で使ったりもしています。</p>
<h2 id="section1">この記事でわかること</h2>
<p>mermaidの概要とメリットと使い方(例)が分かります。</p>
<ul>
<li>
<p>mermaidの概要</p>
<ul>
<li>markdownファイル内にテキストで図を描くための記法</li>
<li>シンプルな記法で様々な図が描ける</li>
<li>色々な面で使い勝手が良い</li>
<li>VSCodeでHTML形式で出力できる</li>
</ul>
</li>
<li>
<p>各図の書き方の基礎</p>
</li>
<li>
<p>色の変更方法　※色以外の表示スタイルも変えられる</p>
</li>
<li>
<p>VSCodeでmermaidを使う場合の具体的な方法</p>
</li>
</ul>
<h2 id="section2">mermaidとは？</h2>
<p>mermaidは、テキストで図や表を描画するためのツールです。
以下のような特徴があります。</p>
<ul>
<li>
<p>シンプルな記法</p>
<ul>
<li>mermaidの記法はシンプルで直感的</li>
<li>専門的なグラフィックススキルがなくても誰でも使い始められる</li>
</ul>
</li>
<li>
<p>プレーンテキスト形式</p>
<ul>
<li>通常のテキストエディタで編集できるため、互換性が高い</li>
<li>バージョン管理がしやすい</li>
</ul>
</li>
<li>
<p>様々な種類の図が描ける</p>
<ul>
<li>フローチャート、シーケンス図、ガントチャート、ER図、などなど</li>
<li>色を変えたいなどの場合そのコマンドを記入する</li>
</ul>
</li>
<li>
<p>自動レイアウト</p>
<ul>
<li>自動的に図のレイアウトを調整してくれる</li>
<li>手動でレイアウトを調整する手間が省け、表現したい内容に集中できる</li>
</ul>
</li>
<li>
<p>無料</p>
</li>
</ul>
<h2 id="section3">基礎的な書き方は？</h2>
<p>シンプルな図とその元となるテキストを書いていきます。<br/>
これらのほかにもカスタマージャーニーズをかけた気がします。</p>
<h3 id="%E3%83%95%E3%83%AD%E3%83%BC%E3%83%81%E3%83%A3%E3%83%BC%E3%83%88">フローチャート</h3>
<p>入れ子になっていても大丈夫です。<br/>
また、<code>graph</code>の後を<code>LR</code>や<code>TB</code>にすることで、フローの向きを変えることもできます。</p>
<pre><code class="language-mermaid"><div class="mermaid">graph TD;
    A[開始] --&gt; B{条件};
    B --&gt;|条件A true| C[アクションA];
    B --&gt;|条件A false| D[アクションB];
    C --&gt; E[終了];
    D --&gt; E;
</div></code></pre>
<div class="container"><div id="code-content0"><button class="copy-button" data-clipboard-target="#code-content0">Copy</button><pre class="hljs"><code><div>graph TD;
    A[開始] --&gt; B{条件};
    B --&gt;|条件A true| C[アクションA];
    B --&gt;|条件A false| D[アクションB];
    C --&gt; E[終了];
    D --&gt; E;
</div></code></pre></div></div>
<pre><code class="language-mermaid"><div class="mermaid">graph TD;
    A[開始] --&gt; B[アクションA];
    B --&gt; C;
    B --&gt; D;
    D --&gt; E[終了];
    subgraph D[アクションC]
        アクションC-1--&gt; アクションC-2;
    end
    subgraph C[アクションB]
        アクションB-1--&gt; アクションB-2;
    end
    アクションB-2--&gt; アクションC-1;
</div></code></pre>
<div class="container"><div id="code-content1"><button class="copy-button" data-clipboard-target="#code-content1">Copy</button><pre class="hljs"><code><div>graph TD;
    A[開始] --&gt; B[アクションA];
    B --&gt; C;
    B --&gt; D;
    D --&gt; E[終了];
    subgraph D[アクションC]
        アクションC<span class="hljs-number">-1</span>--&gt; アクションC<span class="hljs-number">-2</span>;
    end
    subgraph C[アクションB]
        アクションB<span class="hljs-number">-1</span>--&gt; アクションB<span class="hljs-number">-2</span>;
    end
    アクションB<span class="hljs-number">-2</span>--&gt; アクションC<span class="hljs-number">-1</span>;
</div></code></pre></div></div>
<h3 id="%E3%82%B7%E3%83%BC%E3%82%B1%E3%83%B3%E3%82%B9%E5%9B%B3">シーケンス図</h3>
<p><code>note</code>でコメントを記入できるほか、矢印の形や、実行状態かどうかなども表現できます。</p>
<pre><code class="language-mermaid"><div class="mermaid">sequenceDiagram
    actor 人
    participant クライアント
    participant サーバー
    人 -&gt;&gt;+ クライアント: リクエスト送信
    クライアント -&gt;&gt;+ サーバー: リクエスト処理
    note right of サーバー: hoge
    サーバー --)- クライアント: レスポンス送信
    クライアント --)- 人: レスポンス受信
</div></code></pre>
<div class="container"><div id="code-content2"><button class="copy-button" data-clipboard-target="#code-content2">Copy</button><pre class="hljs"><code><div>sequenceDiagram
    actor 人
    participant クライアント
    participant サーバー
    人 -&gt;&gt;+ クライアント: リクエスト送信
    クライアント -&gt;&gt;+ サーバー: リクエスト処理
    note right of サーバー: hoge
    サーバー --)- クライアント: レスポンス送信
    クライアント --)- 人: レスポンス受信
</div></code></pre></div></div>
<h3 id="%E3%82%AC%E3%83%B3%E3%83%88%E3%83%81%E3%83%A3%E3%83%BC%E3%83%88">ガントチャート</h3>
<pre><code class="language-mermaid"><div class="mermaid">gantt
    title ガントチャートの例
    dateFormat  YYYY-MM-DD
    section 作業1
    作業1のタスク1 :done, 2024-04-10, 2024-04-15
    作業1のタスク2 :done, 2024-04-15, 2024-04-20
    section 作業2
    作業2のタスク1 :done, 2024-04-18, 2024-04-22
    作業2のタスク2 :done, 2024-04-23, 2024-04-25
</div></code></pre>
<div class="container"><div id="code-content3"><button class="copy-button" data-clipboard-target="#code-content3">Copy</button><pre class="hljs"><code><div>gantt
    title ガントチャートの例
    dateFormat  YYYY-MM-DD
    section 作業<span class="hljs-number">1</span>
    作業<span class="hljs-number">1</span>のタスク<span class="hljs-number">1</span> :done, <span class="hljs-number">2024</span><span class="hljs-number">-04</span><span class="hljs-number">-10</span>, <span class="hljs-number">2024</span><span class="hljs-number">-04</span><span class="hljs-number">-15</span>
    作業<span class="hljs-number">1</span>のタスク<span class="hljs-number">2</span> :done, <span class="hljs-number">2024</span><span class="hljs-number">-04</span><span class="hljs-number">-15</span>, <span class="hljs-number">2024</span><span class="hljs-number">-04</span><span class="hljs-number">-20</span>
    section 作業<span class="hljs-number">2</span>
    作業<span class="hljs-number">2</span>のタスク<span class="hljs-number">1</span> :done, <span class="hljs-number">2024</span><span class="hljs-number">-04</span><span class="hljs-number">-18</span>, <span class="hljs-number">2024</span><span class="hljs-number">-04</span><span class="hljs-number">-22</span>
    作業<span class="hljs-number">2</span>のタスク<span class="hljs-number">2</span> :done, <span class="hljs-number">2024</span><span class="hljs-number">-04</span><span class="hljs-number">-23</span>, <span class="hljs-number">2024</span><span class="hljs-number">-04</span><span class="hljs-number">-25</span>
</div></code></pre></div></div>
<h3 id="er%E5%9B%B3">ER図</h3>
<pre><code class="language-mermaid"><div class="mermaid">erDiagram
    CUSTOMER ||--o{ ORDER : has
    ORDER ||--|{ LINE-ITEM : contains
    CUSTOMER {
        string name
        string address
        string phone_number
    }
    ORDER {
        string number
        date    date
    }
    LINE-ITEM {
        number quantity
        decimal price
    }
</div></code></pre>
<div class="container"><div id="code-content4"><button class="copy-button" data-clipboard-target="#code-content4">Copy</button><pre class="hljs"><code><div>erDiagram
    CUSTOMER ||--o{ ORDER : has
    ORDER ||--|{ LINE-ITEM : contains
    CUSTOMER {
        string name
        string address
        string phone_number
    }
    ORDER {
        string number
        date    date
    }
    LINE-ITEM {
        number quantity
        decimal price
    }

</div></code></pre></div></div>
<h2 id="section4">色とか変えられる？ → Yes</h2>
<p>こんな感じでテーマの色や図形の色を変えることができます。<br/>
もちろん
もっと詳しく知りたい方は、<a href="https://zenn.dev/junkawa/articles/zenn-mermaidjs-theme-config" rel="noopener noreferrer" target="_blank">junkawaさんのページ</a>をはじめ様々なサイトで紹介されてますので、色々見てみてください～</p>
<h3 id="%E5%A4%89%E6%9B%B4%E5%89%8D">変更前</h3>
<pre><code class="language-mermaid"><div class="mermaid">graph LR;
    A[開始] --&gt; B{条件};
    B --&gt;|条件A true| C[アクションA];
    B --&gt;|条件A false| D[アクションB];
    C --&gt; E[終了];
    D --&gt; E;
</div></code></pre>
<div class="container"><div id="code-content5"><button class="copy-button" data-clipboard-target="#code-content5">Copy</button><pre class="hljs"><code><div>graph LR;
    A[開始] --&gt; B{条件};
    B --&gt;|条件A true| C[アクションA];
    B --&gt;|条件A false| D[アクションB];
    C --&gt; E[終了];
    D --&gt; E;
</div></code></pre></div></div>
<h3 id="%E5%A4%89%E6%9B%B4%E5%BE%8C">変更後</h3>
<pre><code class="language-mermaid"><div class="mermaid">%%{init: {'theme':'neutral'}}%%
graph LR;
    classDef c1 fill:#eab700,fill-opacity:0.4
    classDef c2 fill:#eab700,fill-opacity:1
    A[開始] --&gt; B{条件}:::c1;
    B --&gt;|条件A true| C[アクションA];
    B --&gt;|条件A false| D[アクションB]:::c2;
    C --&gt; E[終了]:::c1;
    D --&gt; E;
</div></code></pre>
<div class="container"><div id="code-content6"><button class="copy-button" data-clipboard-target="#code-content6">Copy</button><pre class="hljs"><code><div>%%{init: {<span class="hljs-string">'theme'</span>:<span class="hljs-string">'neutral'</span>}}%%
graph LR;
    classDef c1 fill:<span class="hljs-comment">#eab700,fill-opacity:0.4</span>
    classDef c2 fill:<span class="hljs-comment">#eab700,fill-opacity:1</span>
    A[開始] --&gt; B{条件}:::c1;
    B --&gt;|条件A true| C[アクションA];
    B --&gt;|条件A false| D[アクションB]:::c2;
    C --&gt; E[終了]:::c1;
    D --&gt; E;
</div></code></pre></div></div>
<h2 id="section5">VSCodeでmermaidを使う場合の具体的な方法</h2>
<p><a href="../posts/2024-04-19-markdown2html.html">VSCodeでMarkdownをHTML化する方法</a>に記載の初期設定と操作方法で、プレビューと出力ができると思います。</p>
<h2 id="section6">まとめ</h2>
<p>markdownファイル内にテキストで図を描くためのmermaidという記法について紹介しました。<br/>
結構便利で私は仕事で使ったりもしているので、是非使ってみてください～</p>



                </div>
                <!-- 広告の部分は表示されるようになってから調整する -->
            </div>
            <div id="right-sidebar">
                <!-- 広告の部分は表示されるようになってから調整する -->
            </div>
            <div id="hidden-right-sidebar"></div>
        </div>
        <!-- 共通: ハンバーガーメニュー -->
        <div id="hamburger-menu"></div>
        <script>$(function(){$('#hamburger-menu').load('../includes/hamburger-menu.html');});</script>
        <!-- 共通: フッタ -->
        <footer></footer>
        <script>$(function(){$('footer').load('../includes/footer.html');});</script>
    </div>
    <div class="floating-button">
        <a href="https://twitter.com/intent/tweet?url=https://hitbug0.github.io/posts/2024-04-19-mermaid.html&text=" class="twitter-share-button" data-show-count="false" rel="noopener noreferrer" target="_blank">
            <img class="twitter-share-button-img" src="../contents/icon/x.png" alt="logo of x">
        </a>
    </div>
  </body>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js" crossorigin="anonymous"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=">
  </script>
  <script src="../includes/clipboard-script.js"></script>
</html>