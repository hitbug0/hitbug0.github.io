<!DOCTYPE html>
<html lang="ja">
  <head>
    <!-- 共通: 基本設定-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../includes/style.css">
    <link rel="icon" href="../contents/icon/icon_black_tr.png">

    <!-- 共通: フォントの設定-->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" crossorigin="anonymous">

    <!-- 共通: lightbox (ウェブサイト上で画像や動画を拡大表示するためのポップアップウィンドウ) の設定-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js" crossorigin="anonymous"></script>

    <!-- 共通: Google AdSenseの設定-->
    <meta name="google-adsense-account" content="ca-pub-5830432592137126">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5830432592137126"
    crossorigin="anonymous"></script>

    <!-- 共通: Google Analyticsの設定-->
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2NP6QCR05Z"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-2NP6QCR05Z');
    </script>

    <!-- 共通: コード表示とコピーの設定-->
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>

    <title>簡単な画像処理コードをChatGPTに作ってもらった | hitbug</title>
    <meta name="tag" content="%E7%94%BB%E5%83%8F%E5%87%A6%E7%90%86">
<meta name="tag" content="ChatGPT">

  </head>


  <body>
    <!-- 共通: ヘッダ -->
    <header></header>
    <script>$(function(){$('header').load('../includes/header.html');});</script>

    <div id="wrapper">
        <div id="main">
            <!-- コンテンツ -->
            <div id="hidden-left-sidebar"></div>
            <div id="left-sidebar">
                <div class="text">
                    <h1>In this article</h1>
                    <ul>
                        <li><a href="#section1">今回やろうとしている画像編集操作は？</a></li>
<li><a href="#section2">ChatGPTにどんなふうにお願いした？</a></li>
<li><a href="#section3">余談</a></li>
<li><a href="#section4">まとめ</a></li>
                    </ul>
                </div>
                <br>
                <div id="left-sidebar-tags" class="text"></div>
                <script>$(function(){$('#left-sidebar-tags').load('../includes/tags-post.html');});</script>
            </div>
            <div id="center">
                <div class="text">
                    
<script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="%E7%B0%A1%E5%8D%98%E3%81%AA%E7%94%BB%E5%83%8F%E5%87%A6%E7%90%86%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92chatgpt%E3%81%AB%E4%BD%9C%E3%81%A3%E3%81%A6%E3%82%82%E3%82%89%E3%81%A3%E3%81%9F">簡単な画像処理コードをChatGPTに作ってもらった</h1>
<p><a href="::tags::%E7%94%BB%E5%83%8F%E5%87%A6%E7%90%86,ChatGPT" rel="noopener noreferrer" target="_blank"></a></p>
<hr/>
<p>手書きの絵をスキャンしたけど、いい感じの画像編集ソフト持ってないし編集できない...<br/>
そんな人(ぼくです)のために、ChatGPTで画像編集のPythonコードを作成する方法を紹介します。<br/>
今回は、このサイトのアイコン画像を作成した時の方法を題材にします。</p>
<h2 id="section1">今回やろうとしている画像編集操作は？</h2>
<p>この手書きの絵を白黒逆にして、元々白だった部分を透過画像にしたい！というのを題材にしようと思います。<br/>
実際にこのサイトのアイコン画像を作るときにやったことです。</p>
<p><div class="photo-list"><a href="../contents/img/icon_black.png"  data-lightbox="group" data-title="かわいいアイコンの絵" alt="">
                                   <img src="../contents/img/icon_black.png" height="250px">
                                </a>
                             </div></p>
<h2 id="section2">ChatGPTにどんなふうにお願いした？</h2>
<p>こんな感じでお願いしました。</p>
<div class="container"><div id="code-content0"><button class="copy-button" data-clipboard-target="#code-content0">Copy</button><pre class="hljs"><code><div>以下の処理を行うpillowを用いたPythonコードを作成してください。

# 処理
1. 画像（icon_black.png）を読み込み、aと定義する
2. aを輝度150を閾値として二値化し、bと定義する
3. bを白黒反転させ、cと定義する
4. cにおいて黒い領域を透過色に変更し、dと定義する
5. dを icon_white.png として出力する
</div></code></pre></div></div>
<p>すると、<a href="https://chat.openai.com/share/18dcb15d-6e59-46b4-9348-519cb11f740b" rel="noopener noreferrer" target="_blank">1回のお願いでちゃんと動くコードを返してくれました</a>。<br/>
プログラムをイメージした日本語を書くと精度上がりますね。</p>
<div class="container"><div id="code-content1"><button class="copy-button" data-clipboard-target="#code-content1">Copy</button><pre class="hljs"><code><div>from PIL import Image

# 画像を読み込む
a = Image.open("icon_black.png")

# 二値化する
b = a.convert("L").point(lambda x: 255 if x &gt; 150 else 0, mode='1')

# 白黒反転する
c = Image.eval(b, lambda x: 255 - x)

# 透過色に変更する
d = c.convert("RGBA")
data = d.getdata()
new_data = []
for item in data:
    # 黒い領域を透過色に変更
    if item[0] == 0 and item[1] == 0 and item[2] == 0:
        new_data.append((255, 255, 255, 0))
    else:
        new_data.append(item)
d.putdata(new_data)

# 出力する
d.save("icon_white.png")
</div></code></pre></div></div>
<p>でも輝度とか二値化とかの用語を知らない場合はどうすればいいの！　と思う方もいらっしゃると思います。<br/>
.......そういう人のための記事もいずれ書いていこうと思います。</p>
<h2 id="section3">余談</h2>
<p>以前有償の画像処理ソフトを仕事で <s>使わされた</s> 使ったことがあるんですが、ほぼPythonでささっと実装できる内容だったことを覚えています。<br/>
用語と実装を知っているだけで結構節約になりますね～</p>
<h2 id="section4">まとめ</h2>
<p>いい感じの画像編集ソフトを持ってない人のために、ChatGPTで画像編集のPythonコードを作成する方法を紹介しました。<br/>
何かの参考になればいいなと思います。</p>

                </div>
                
                
                <!-- 広告の部分は表示されるようになってから調整する -->


            </div>
            <div id="right-sidebar">


                <!-- 広告の部分は表示されるようになってから調整する -->


            </div>
            <div id="hidden-right-sidebar"></div>
        </div>

        <!-- 共通: ハンバーガーメニュー -->
        <div id="hamburger-menu"></div>
        <script>$(function(){$('#hamburger-menu').load('../includes/hamburger-menu.html');});</script>
        
        <!-- 共通: フッタ -->
        <footer></footer>
        <script>$(function(){$('footer').load('../includes/footer.html');});</script>
    
    
    
    </div>
    <script src="../includes/clipboard-script.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" crossorigin="anonymous"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="></script>
  </body>
</html>